<head>  
    <title>Page hosted on example.com</title>  
    <script type="text/javascript">  
    function resizeIframeHeight(nHeight) {  
        var iframe = document.getElementById('mainIframe');  
        iframe.setAttribute('height', nHeight);  
    }  
    </script>  
</head>  
   
<body>  
    <h1>This page is hosted on the example.com domain</h1>  
    <p>The iframe below is hosted on the example.org domain</p>  
    <iframe id="mainIframe" width="400" height="200" src="http://example.org/iframedDocument.html">Iframes not supported.</iframe>  
</body>  
</html>  




 

下面是iframe页面的源码（上边草图中标的[2]），它包含一个额外的iframe和一些实习技术的脚本。

 

<head>  
    <title>Page hosted on example.org</title>  
    <script type="text/javascript">  
    function updateIframeHeight() {  
        var iframe = document.getElementById('hiddenIframe');  
        var newHeight = parseInt(document.body.offsetHeight,10) + 10;  
        iframe.src = 'http://example.com/xssEnabler.html?height=' + newHeight;  
    }  
    </script>  
</head>  
   
<body onload="updateIframeHeight()">  
    <h1>This page is hosted on the example.org domain</h1>  
    <p>The iframe below is hosted on the example.com domain (and be styled to be hidden)</p>  
    <iframe id="hiddenIframe" width="100" height="100" src="http://example.com/xssEnabler.html">Iframes not supported.</iframe>  
</body>  
</html>  

​<script type="text/javascript">  
    function getFirstParamFromLocation() {  
        var pair = window.location.search.substring(1);  
        var parts = pair.split('=');  
        return parts[1];  
    }  
    var nHeight = getFirstParamFromLocation();  
    try {  
        window.top.resizeIframeHeight(height);  
    } catch(e) {};  
</script>  
